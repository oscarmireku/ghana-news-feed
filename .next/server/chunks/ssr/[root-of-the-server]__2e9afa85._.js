module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},46754,(a,b,c)=>{"use strict";b.exports=a.r(18622)},61286,(a,b,c)=>{"use strict";b.exports=a.r(46754).vendored["react-ssr"].ReactJsxRuntime},49040,(a,b,c)=>{"use strict";b.exports=a.r(46754).vendored["react-ssr"].React},995,a=>{a.v({adomTag:"page-module__J8Njuq__adomTag",card:"page-module__J8Njuq__card",cardMeta:"page-module__J8Njuq__cardMeta",cardTitle:"page-module__J8Njuq__cardTitle",categoryTag:"page-module__J8Njuq__categoryTag",citiTag:"page-module__J8Njuq__citiTag",container:"page-module__J8Njuq__container",content:"page-module__J8Njuq__content",controls:"page-module__J8Njuq__controls",grid:"page-module__J8Njuq__grid",gwTag:"page-module__J8Njuq__gwTag",header:"page-module__J8Njuq__header",image:"page-module__J8Njuq__image",imageContainer:"page-module__J8Njuq__imageContainer",joyTag:"page-module__J8Njuq__joyTag",loading:"page-module__J8Njuq__loading",main:"page-module__J8Njuq__main",peaceTag:"page-module__J8Njuq__peaceTag",refreshButton:"page-module__J8Njuq__refreshButton",sourceTag:"page-module__J8Njuq__sourceTag",spin:"page-module__J8Njuq__spin",spinner:"page-module__J8Njuq__spinner",subtitle:"page-module__J8Njuq__subtitle",title:"page-module__J8Njuq__title"})},19047,a=>{"use strict";var b=a.i(61286),c=a.i(49040),d=a.i(995);let e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:d=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(d)/Number(b):d,className:f("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let d=(0,c.forwardRef)(({className:d,...g},i)=>(0,c.createElement)(h,{ref:i,iconNode:b,className:f(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,d),...g}));return d.displayName=e(a),d},j=i("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),k=i("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),l=i("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]),m=i("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(a,b){if(""===b)return"";if(!a)return"Just now";let c=new Date(a),d=new Date;c.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).replace(",","");let e=Math.floor((d.getTime()-c.getTime())/1e3),f="";if(e<60)f="Just now";else if(e<3600){let a=Math.floor(e/60);f=`${a} minute${1!==a?"s":""} ago`}else if(e<86400){let a=Math.floor(e/3600);f=`${a} hour${1!==a?"s":""} ago`}else{let a=Math.floor(e/86400);f=`${a} day${1!==a?"s":""} ago`}let g=c.toLocaleDateString("en-US",{month:"short"}),h=c.getDate(),i=c.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase();return`${g} ${h}, ${i}. ${f}`}function o(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),s=(0,c.useCallback)(async(a=!1)=>{a&&r(!0),i(null);try{if(a)try{await fetch("/api/update-json?force=true",{method:"POST"}),console.log("Forced scrape and JSON update completed")}catch(a){console.error("Failed to update news-feed.json:",a)}let b=await fetch("/api/news?content=false");if(!b.ok)throw Error(`Failed to fetch news: ${b.status} ${b.statusText}`);let c=await b.json();c.stories&&(e(c.stories),p(new Date))}catch(a){console.error("Failed to fetch news",a),i(a.message||"An unknown error occurred")}finally{g(!1),a&&r(!1)}},[]);return(0,c.useEffect)(()=>{s()},[s]),(0,b.jsx)("main",{className:d.default.main,children:(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsxs)("header",{className:d.default.header,children:[(0,b.jsx)("h1",{className:d.default.title,children:"Ghana Top News (Vercel Test)"}),(0,b.jsx)("p",{className:d.default.subtitle,children:"Unified feed: GhanaWeb, AdomOnline, PeaceFM, MyJoyOnline"})]}),(0,b.jsx)("div",{className:d.default.controls,children:(0,b.jsxs)("button",{className:d.default.refreshButton,onClick:()=>s(!0),disabled:q,children:[(0,b.jsx)(j,{size:16,className:q?d.default.spinner:""}),q?"Updating...":"Refresh"]})}),h?(0,b.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"#ef4444"},children:[(0,b.jsx)("p",{style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Error loading news"}),(0,b.jsx)("p",{children:h}),(0,b.jsx)("button",{onClick:()=>s(!0),style:{marginTop:"1.5rem",padding:"0.5rem 1rem",background:"#334155",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},children:"Try Again"})]}):f?(0,b.jsxs)("div",{className:d.default.loading,children:[(0,b.jsx)(m,{size:40,className:d.default.spinner}),(0,b.jsx)("p",{children:"Scraping latest stories..."})]}):0===a.length?(0,b.jsxs)("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8"},children:[(0,b.jsx)(l,{size:48,style:{margin:"0 auto 1rem",display:"block"}}),(0,b.jsx)("p",{children:"No stories found."}),(0,b.jsx)("p",{style:{fontSize:"0.9rem",marginTop:"0.5rem"},children:"The database might be empty."})]}):(0,b.jsx)("div",{className:d.default.grid,children:a.map(a=>(0,b.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:d.default.card,children:[(0,b.jsx)("div",{className:d.default.imageContainer,children:a.image?(0,b.jsx)("img",{src:a.image,alt:a.title,className:d.default.image,loading:"lazy",referrerPolicy:"no-referrer"}):(0,b.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#334155"},children:(0,b.jsx)(l,{size:48,color:"#64748b"})})}),(0,b.jsxs)("div",{className:d.default.content,children:[(0,b.jsx)("div",{className:`${d.default.sourceTag} 
                    ${"MyJoyOnline"===a.source?d.default.joyTag:"CitiNewsRoom"===a.source?d.default.citiTag:"GhanaWeb"===a.source?d.default.gwTag:"AdomOnline"===a.source?d.default.adomTag:"PeaceFM"===a.source?d.default.peaceTag:d.default.citiTag}`,children:a.source}),a.section&&(0,b.jsx)("div",{className:d.default.categoryTag,children:a.section}),(0,b.jsx)("h2",{className:d.default.cardTitle,children:a.title}),n(a.timestamp,a.time)&&(0,b.jsxs)("div",{className:d.default.cardMeta,children:[(0,b.jsx)(k,{size:14}),(0,b.jsx)("span",{children:n(a.timestamp,a.time)})]})]})]},a.id))}),!f&&o&&(0,b.jsxs)("div",{style:{textAlign:"center",marginTop:"3rem",color:"var(--muted)",fontSize:"0.8rem"},children:["Last updated: ",o.toLocaleTimeString()]})]})})}a.s(["default",()=>o],19047)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2e9afa85._.js.map