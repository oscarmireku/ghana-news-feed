module.exports=[70406,(e,t,r)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},24361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},8976,e=>e.a(async(t,r)=>{try{let t=await e.y("@libsql/client-32956ad46f502899");e.n(t),r()}catch(e){r(e)}},!0),33405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},3317,e=>e.a(async(t,r)=>{try{var a=e.i(8976),i=e.i(33405),n=e.i(24361),s=t([a]);[a]=s.then?(await s)():s,n.default.promisify(i.exec);let l=process.env.TURSO_DATABASE_URL,u=process.env.TURSO_AUTH_TOKEN,d=(0,a.createClient)({url:l,authToken:u});async function o(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{"true"===e.query.force&&(console.log("Forcing scrape via API... (DISABLED on Vercel to prevent timeouts/errors)"),console.log("Please rely on scheduled GitHub Actions."));let r=(await d.execute({sql:"SELECT * FROM articles ORDER BY timestamp DESC LIMIT 100",args:[]})).rows.map(e=>({id:e.id,source:e.source,title:e.title,link:e.link,image:e.image,time:e.time,section:e.section,content:e.content}));new Date().toISOString(),r.length,r.length,t.status(200).json({success:!0,message:"Database query executed (File Write & Scrape Disabled)",count:r.length})}catch(e){console.error("Error updating news-feed.json:",e),t.status(500).json({error:e.message})}}e.s(["default",()=>o]),r()}catch(e){r(e)}},!1),83198,e=>e.a(async(t,r)=>{try{var a=e.i(4589),i=e.i(69442),n=e.i(16967),s=e.i(79109),o=e.i(3317),l=e.i(71295),u=e.i(54580),d=e.i(1551),c=t([o]);[o]=c.then?(await c)():c;let h=(0,s.hoist)(o,"default"),m=(0,s.hoist)(o,"config"),g=new n.PagesAPIRouteModule({definition:{kind:i.RouteKind.PAGES_API,page:"/api/update-json",pathname:"/api/update-json",bundlePath:"",filename:""},userland:o,distDir:".next",relativeProjectDir:""});async function p(e,t,r){g.isDev&&(0,d.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let i="/api/update-json";i=i.replace(/\/index$/,"")||"/";let n=await g.prepare(e,t,{srcPage:i});if(!n){t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve());return}let{query:s,params:o,prerenderManifest:c,routerServerContext:p}=n;try{let r=e.method||"GET",a=(0,l.getTracer)(),n=a.getActiveScopeSpan(),d=g.instrumentationOnRequestError.bind(g),h=async n=>g.render(e,t,{query:{...s,...o},params:o,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:c.preview,propagateError:!1,dev:g.isDev,page:"/api/update-json",internalRevalidate:null==p?void 0:p.revalidate,onError:(...t)=>d(e,...t)}).finally(()=>{if(!n)return;n.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let e=a.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let s=e.get("next.route");if(s){let e=`${r} ${s}`;n.setAttributes({"next.route":s,"http.route":s,"next.span_name":e}),n.updateName(e)}else n.updateName(`${r} ${i}`)});n?await h(n):await a.withPropagatedContext(e.headers,()=>a.trace(u.BaseServerSpan.handleRequest,{spanName:`${r} ${i}`,kind:l.SpanKind.SERVER,attributes:{"http.method":r,"http.target":e.url}},h))}catch(e){if(g.isDev)throw e;(0,a.sendError)(t,500,"Internal Server Error")}finally{null==r.waitUntil||r.waitUntil.call(r,Promise.resolve())}}e.s(["config",0,m,"default",0,h,"handler",()=>p]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__cc3a939e._.js.map